

function sendXML(type, sdoCOB, sdoSUB, nodeID) {
   
    var xhttp = new XMLHttpRequest();

    xhttp.onreadystatechange = function() {
        if (this.readyState == 4 && this.status == 200) {
            var input = JSON.parse(this.responseText);
            console.log(input);


            // Typical action to be performed when the document is ready:
            if(input.success){
                if(input.action === "read"){
                    document.getElementById("value"+input.cob+":"+input.sub).innerHTML = input.val;
                    document.getElementById("btread"+input.cob+":"+input.sub).classList.add("bg-success");
                }else{
                    document.getElementById("btsend"+input.cob+":"+input.sub).classList.add("bg-success");
                }
            }else{
                if(input.action === "read"){
                    document.getElementById("btread"+input.cob+":"+input.sub).classList.add("bg-danger");
                }else{
                    document.getElementById("btsend"+input.cob+":"+input.sub).classList.add("bg-danger");
                }
            }
         }
    };
    
    if(type == 0){ // => sendSDO
        var _val = document.getElementById("sdo" + sdoCOB+":"+sdoSUB).value;
        xhttp.open("POST", "sendCOB=" + sdoCOB + "&sub=" + sdoSUB + "&val=" + _val + "&node=" + nodeID, true);
    } 
    else { // => readSDO
        xhttp.open("POST", "readCOB=" + sdoCOB + "&sub=" + sdoSUB + "&node=" + nodeID, true);
    } 
    xhttp.send();
}