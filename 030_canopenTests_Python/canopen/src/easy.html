<html>
<link rel="stylesheet" href="bootstrap.min.css"
    integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

<head>
    <title>Easy Control Servotronix!</title>
    <style>
        .element {
            width: 100%;
        }

        .subelement {
            width: 48%;
            margin: 0.5%;
            float: left;
            border: 2px solid olive;
        }

        .command {
            width: 31%;
            float: left;
            background-color: #e9ecef;
        }

        .monitoring {
            width: 31%;
            float: left;
        }

        .init {
            width: 18%;
            float: left;
        }

        .container {
            margin: 4px;
        }

        .lbInfo {
            width: 10em;
        }

        #lbl {
            color: white;
        }

        .dot {
            height: 25px;
            width: 25px;
            background-color: red;
            border-radius: 50%;
            display: inline-block;
        }

    </style>
</head>

<body onload="createStatusTable(); createModeTable(); createTpdoTable();">
    <nav class="navbar navbar-dark bg-dark">
        <a class="navbar-brand" href="/">CANopen Interface -> Easy Steuerung</a>
        <div>
            <label id="lbl">...</label>
            <span id="led1" class="dot"></span>
        </div>
    </nav>




    <div class="element">
        <div class="subelement" id="s1">
            <h5 class="m-1">MOTOR 1</h5>
            <div class="container command">
                <div class="row m-1">
                    <h5>Drehzahlmodus</h5>
                </div>
                <div class="row m-1">
                    <label class="lbInfo" for="servo1_sollrpm"> Soll Drehzahl [rpm]</label>
                    <input type="text" id="servo1_sollrpm" value="600">
                </div>
                <div class="row m-1">
                    <label class="lbInfo" for="servo1_maxtorq"> Max Torque [Nm] </label>
                    <input type="text" id="servo1_maxtorq" value="3.0">
                </div>
                <div class="row m-1">
                    <button type="button" class="m-1" onclick="sendXML('startDreh',1,1);">START</button>
                    <button type="button" class="m-1" onclick="sendXML('stopOP',1,0);">STOP</button>
                </div>
            </div>
            <div class="container command border">
                <div class="row m-1">
                    <h5>Drehmomentmodus</h5>
                </div>
                <div class="row m-1">
                    <label class="lbInfo" for="servo1_solltorq"> Soll Torque [Nm] </label>
                    <input type="text" id="servo1_solltorq" value="0">
                </div>
                <div class="row m-1">
                    <label class="lbInfo" for="servo1_maxrpm"> Max Drehzahl [rpm] </label>
                    <input type="text" id="servo1_maxrpm" value="1000">
                </div>
                <div class="row m-1">
                    <button type="button" class="m-1" onclick="sendXML('startTorq',1,2);">START</button>
                    <button type="button" class="m-1" onclick="sendXML('stopOP',1,0);">STOP</button>
                </div>
            </div>
            <div class="container command border">
                <div class="row m-1">
                    <h5>Positionsmodus</h5>
                </div>
                <div class="row m-1">
                    <label class="lbInfo" for="servo1_pos_soll">Soll Position</label>
                    <input type="text" id="servo1_pos_soll" value="10">
                </div>
                <div class="row m-1">
                    <label class="lbInfo" for="servo1_pos_maxrpm">Max Drehzahl [rpm]</label>
                    <input type="text" id="servo1_pos_maxrpm" value="1000">
                </div>
                <div class="row m-1">
                    <label class="lbInfo" for="servo1_pos_maxacc">Max Acc. [rpm/s] </label>
                    <input type="text" id="servo1_pos_maxacc" value="3000">
                </div>

                <div class="row m-1">
                    <label class="lbInfo" for="servo1_pos_maxdec">Max Dec. [rpm/s]</label>
                    <input type="text" id="servo1_pos_maxdec" value="3000">
                </div>
                <div class="row m-1">
                    <label class="lbInfo" for="servo1_rel_abs">rel=0 abs=1</label>
                    <input type="text" id="servo1_rel_abs" value="0">
                </div>

                <div class="row m-1">
                    <button type="button" class="m-1" onclick="sendXML('startPos',1,3);">START</button>
                    <button type="button" class="m-1" onclick="sendXML('stopOP',1,0);">STOP</button>
                </div>
            </div>
        </div>
        <div class="subelement" id="s2">
            <h5 class="m-1">MOTOR 2</h5>
            <div class="container command border">
                <div class="row m-1">
                    <h5>Drehzahlmodus</h5>
                </div>
                <div class="row m-1">
                    <label class="lbInfo" for="servo2_sollrpm"> Soll Drehzahl [rpm]</label>
                    <input type="text" id="servo2_sollrpm" value="600">
                </div>
                <div class="row m-1">
                    <label class="lbInfo" for="servo2_maxtorq"> Max Torque [Nm] </label>
                    <input type="text" id="servo2_maxtorq" value="3.0">
                </div>
                <div class="row m-1">
                    <button type="button" class="m-1" onclick="sendXML('startDreh',2,1);">START</button>
                    <button type="button" class="m-1" onclick="sendXML('stopOP',2,0);">STOP</button>
                </div>
            </div>
            <div class="container command border">
                <div class="row m-1">
                    <h5>Drehmomentmodus</h5>
                </div>
                <div class="row m-1">
                    <label class="lbInfo" for="servo2_solltorq"> Soll Torque [Nm] </label>
                    <input type="text" id="servo2_solltorq" value="0">
                </div>
                <div class="row m-1">
                    <label class="lbInfo" for="servo2_maxrpm"> Max Drehzahl [rpm] </label>
                    <input type="text" id="servo2_maxrpm" value="1000">
                </div>
                <div class="row m-1">
                    <button type="button" class="m-1" onclick="sendXML('startTorq',2,2);">START</button>
                    <button type="button" class="m-1" onclick="sendXML('stopOP',2,0);">STOP</button>
                </div>
            </div>
            <div class="container command border">
                <div class="row m-1">
                    <h5>Positionsmodus</h5>
                </div>
                <div class="row m-1">
                    <label class="lbInfo" for="servo2_pos_soll">Soll Position</label>
                    <input type="text" id="servo2_pos_soll" value="10">
                </div>
                <div class="row m-1">
                    <label class="lbInfo" for="servo2_pos_maxrpm">Max Drehzahl [rpm]</label>
                    <input type="text" id="servo2_pos_maxrpm" value="1000">
                </div>
                <div class="row m-1">
                    <label class="lbInfo" for="servo2_pos_maxacc">Max Acc. [rpm/s] </label>
                    <input type="text" id="servo2_pos_maxacc" value="3000">
                </div>

                <div class="row m-1">
                    <label class="lbInfo" for="servo2_pos_maxdec">Max Dec. [rpm/s]</label>
                    <input type="text" id="servo2_pos_maxdec" value="3000">
                </div>
                <div class="row m-1">
                    <label class="lbInfo" for="servo2_rel_abs">rel=0 abs=1</label>
                    <input type="text" id="servo2_rel_abs" value="0">
                </div>

                <div class="row m-1">
                    <button type="button" class="m-1" onclick="sendXML('startPos',2,3);">START</button>
                    <button type="button" class="m-1" onclick="sendXML('stopOP',2,0);">STOP</button>
                </div>
            </div>
        </div>
    </div>

    <div class="element">
        <div class="subelement" id="s1m">
            <div class="container monitoring">
                <div class="row mt-2">
                    <div class="col-md-5 bg-secondary text-white">
                        Drehzahl
                    </div>
                    <div class="col-md-4" id="drehzahl_ID1">
                        _
                    </div>
                    <div class="col-md-3 font-weight-bold">
                        rpm
                    </div>
                </div>
                <div class="row mt-2">
                    <div class="col-md-5 bg-secondary text-white">
                        Position
                    </div>
                    <div class="col-md-4" id="position_ID1">
                        _
                    </div>
                    <div class="col-md-3 font-weight-bold">
                        revs
                    </div>
                </div>
                <div class="row mt-2">
                    <div class="col-md-5 bg-secondary text-white">
                        Torque
                    </div>
                    <div class="col-md-4" id="torque_ID1">
                        _
                    </div>
                    <div class="col-md-3 font-weight-bold">
                        Nm
                    </div>
                </div>
                <div class="row mt-2">
                    <div class="col-md-5 bg-secondary text-white">
                        Strom
                    </div>
                    <div class="col-md-4" id="strom_ID1">
                        _
                    </div>
                    <div class="col-md-3 font-weight-bold">
                        A
                    </div>
                </div>
            </div>

            <div class="container monitoring">
                <div class="row">
                    <div class="col bg-primary border text-white">
                        Statusword
                    </div>
                </div>
                <span id="statustable">
                    ....
                </span>
            </div>


            <div class="container monitoring">
                <div class="row">
                    <div class="col bg-primary border text-white">
                        Mode of Operation
                    </div>
                </div>
                <span id="modetable">
                    ....
                </span>
            </div>
        </div>
        <div class="subelement" id="s2m">
            <div class="container monitoring">
                <div class="row mt-2">
                    <div class="col-md-5 bg-secondary text-white">
                        Drehzahl
                    </div>
                    <div class="col-md-4" id="drehzahl_ID2">
                        _ 
                    </div>
                    <div class="col-md-3 font-weight-bold">
                        rpm
                    </div>
                </div>
                <div class="row mt-2">
                    <div class="col-md-5 bg-secondary text-white">
                        Position
                    </div>
                    <div class="col-md-4" id="position_ID2">
                        _
                    </div>
                    <div class="col-md-3 font-weight-bold">
                        revs
                    </div>
                </div>
                <div class="row mt-2">
                    <div class="col-md-5 bg-secondary text-white">
                        Torque
                    </div>
                    <div class="col-md-4" id="torque_ID2">
                        _
                    </div>
                    <div class="col-md-3 font-weight-bold">
                        Nm
                    </div>
                </div>
                <div class="row mt-2">
                    <div class="col-md-5 bg-secondary text-white">
                        Strom
                    </div>
                    <div class="col-md-4" id="strom_ID2">
                        _
                    </div>
                    <div class="col-md-3 font-weight-bold">
                        A
                    </div>
                </div>

            </div>
            <div class="container monitoring">
                <div class="row">
                    <div class="col bg-primary border text-white">
                        Statusword
                    </div>
                </div>
                <span id="statustable2">
                    ....
                </span>
            </div>

            <div class="container monitoring">
                <div class="row">
                    <div class="col bg-primary border text-white">
                        Mode of Operation
                    </div>
                </div>
                <span id="modetable2">
                    ....
                </span>
            </div>
        </div>
    </div>

    <div class="element">
        <div class="container init border" id="servo_11">
            <h5>Servocontroller ID=1</h5>
            <button type="button" class="m-1" onclick="sendXML('startOP',1,0);">startOP</button>
            <button type="button" class="m-1" onclick="sendXML('stopOP',1,0);">stopOP</button>
        </div>
        <div class="container init border" id="servo1">
            <h5>Servocontroller ID=1</h5>
            <button type="button" class="m-1" onclick="sendXML('init_402',1,0);">init_402</button>
            <button type="button" class="m-1" onclick="sendXML('PDO_Init',1,0);">PDO_Init</button>
        </div>
        <div class="container init border" id="servo_22">
            <h5>Servocontroller ID=2</h5>
            <button type="button" class="m-1" onclick="sendXML('startOP',2,0);">startOP</button>
            <button type="button" class="m-1" onclick="sendXML('stopOP',2,0);">stopOP</button>
        </div>
        <div class="container init border" id="servo2">
            <h5>Servocontroller ID=2</h5>
            <button type="button" class="m-1" onclick="sendXML('init_402',2,0);">init_402</button>
            <button type="button" class="m-1" onclick="sendXML('PDO_Init',2,0);">PDO_Init</button>
        </div>

        <div class="container init border" id="elrest">
            <h5>Elrest Befehle</h5>
            <button type="button" class="m-1" onclick="sendXML('init_301',3,0);">init_301</button>
            <button type="button" class="m-1" onclick="sendXML('Elrest_Init',3,0);">Elrest_Init</button>
            <button type="button" class="m-1" onclick="sendXML('relais',3,0);">relais ZU</button>
        </div>
    </div>

    <div class="element">
        <div class="container monitoring">
            <div class="row">
                <div class="col bg-primary border text-white">
                    TPDO
                </div>
                <div class="col bg-primary border text-white">
                    Wert
                </div>
            </div>
            <span id="tpdotable">
                ....
            </span>
        </div>
        <div class="container monitoring">
            <div class="row">
                <div class="col bg-primary border text-white">
                    TPDO
                </div>
                <div class="col bg-primary border text-white">
                    Wert
                </div>
            </div>
            <span id="tpdotable2">
                ....
            </span>
        </div>
    </div>


</body>
<script src="script_easy.js"></script>
<script src="jquery.min.js"></script>
<script src="bootstrap.bundle.min.js"></script>

</html>